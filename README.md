# Telegram QR Scanner App

## Описание
Приложение для сканирования QR-кодов через Telegram Mini App с автоматической отправкой данных в Google Sheets. 

## Функциональность
- Сканирование QR-кодов через встроенный сканер Telegram
- Ввод количества для каждого отсканированного кода
- Автоматическая отправка данных в Google Sheets
- История сканирований с группировкой по датам
- Логирование действий для отладки
- Отображение имени пользователя Telegram в логах и таблице

## Структура данных в Google Sheets
- Столбец A: Timestamp (Дата и время сканирования)
- Столбец B: QR Data (Данные из QR-кода)
- Столбец C: Quantity (Введенное количество)
- Столбец D: User Name (Имя пользователя Telegram)

## Файлы проекта
- `index.html` - Главная страница приложения
- `app.js` - Основная логика приложения
- `history.html` - Страница истории сканирований
- `logs.html` - Страница логов
- `Code.gs` - Google Apps Script для обработки данных

## Установка и настройка
1. Создать новый проект в Google Apps Script
2. Скопировать код из `Code.gs` в редактор скрипта
3. Развернуть веб-приложение и получить URL для доступа
4. Обновить URL в `app.js` для отправки данных
5. Разместить файлы на веб-сервере или GitHub Pages
6. Настроить Telegram Mini App в BotFather

## Использование
1. Открыть приложение через Telegram бота
2. Нажать кнопку "Сканировать"
3. Отсканировать QR-код
4. Ввести количество
5. Нажать кнопку "Отправить" в меню приложения
6. Данные будут автоматически отправлены в Google Sheets

## История изменений
- Добавлено отображение имени пользователя
- Реализована защита от дублирования отправки
- Добавлена группировка истории по датам
- Улучшен интерфейс и обработка ошибок

## Требования
- Telegram WebApp API
- Google Apps Script
- Доступ к Google Sheets 